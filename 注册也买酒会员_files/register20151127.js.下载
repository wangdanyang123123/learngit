(function(b){YM.namespace("YM.page.register");YM.page.register.init=function(){this.initElemEvents();this.others();if(b(".hd-crossdomain").val()=="true"){YM.page.setDomain()}};YM.page.register.initElemEvents=function(){b("input.txt-user").bindYMUI("InputBGHint","hint-user");b("input.txt-pass").bindYMUI("InputBGHint","hint-pass");b("input.txt-pass2").bindYMUI("InputBGHint","hint-pass2");b("input.txt-randcode").bindYMUI("InputBGHint","hint-randcode");b("input.txt-passcode").bindYMUI("InputBGHint","hint-passcode");b("input.txt-user").attr("maxlength",11);b("input.txt-randcode").attr("maxlength",4);b("a.btn-change-randimg").click(function(){b(this).prev().trigger("changeImage")});b("input.chk-vip").click(function(){b("#vipinfo")[this.checked?"slideDown":"slideUp"]();if(parent.YM&&parent.YM.util&&parent.YM.util.dialog){parent.YM.util.dialog.setWidth(this.checked?480:400);parent.YM.util.dialog.setHeight(this.checked?520:400)}});b("input.chk-clause").click(function(){if(this.checked){b(this).parent().bindYMUI("ShowErrorString")}});if(b("input.chk-vip").attr("checked")){b("#vipinfo").show()}b("img.rand-img").bind("changeImage",function(){this.src="/random/rand.jspa?d="+new Date().getTime()});b(".btn-register").attr("disabled",false);b(".btn-register").bind("disableStatus",function(){b(this).attr("disabled",true);b(this).addClass("disabled");b(this).data("oldvalue",b(this).html());b(this).html("提交注册中...")});b(".btn-register").bind("enableStatus",function(){b(this).attr("disabled",false);b(this).removeClass("disabled");b(this).html(b(this).data("oldvalue"))});b(".btn-login").attr("disabled",false);b(".btn-login").bind("disableStatus",function(){b(this).attr("disabled",true);b(this).addClass("disabled");b(this).data("oldvalue",b(this).html());b(this).html("提交中，等稍后...")});b(".btn-login").bind("enableStatus",function(){b(this).attr("disabled",false);b(this).removeClass("disabled");b(this).html(b(this).data("oldvalue"))})};YM.page.register.others=function(){var f=document.body.clientWidth;if(!document.getElementsByClassName){document.getElementsByClassName=function(d,e){var i=(e||document).getElementsByTagName("*");var c=new Array();for(var j=0;j<i.length;j++){var q=i[j];var r=q.className.split(" ");for(var p=0;p<r.length;p++){if(r[p]==d){c.push(q);break}}}return c}}if(f<600){document.getElementById("register_head").style.display="none";var g=document.getElementsByClassName("mod-login")[0];g.getElementsByTagName("h2")[0].style.display="none";g.style.background="none";g.style.border="0";g.style.padding="0";var a=document.getElementsByClassName("txt-input");for(var h=0;h<a.length;h++){if(a[h].getAttribute("id")!="smsCode"&&a[h].getAttribute("id")!="imgCode"){a[h].style.width="260px"}}}};b(document).ready(function(){YM.page.register.init()})})(jQuery);